<!DOCTYPE html>
<html>
<head>
  <title>Daftar iPhone</title>
  <style>
    .produk {
      border: 1px solid #ccc;
      padding: 10px;
      margin-bottom: 20px;
      border-radius: 10px;
      max-width: 500px;
    }
    .produk img {
      width: 100%;
      max-width: 200px;
      border-radius: 8px;
    }
  </style>
</head>
<body>

  <h2>Daftar Produk iPhone</h2>
  <div id="item-container">Memuat data...</div>

  <script>
    const options = { method: 'GET' };

    fetch('https://api.apico.dev/v1/X2iKFZ/collections/6808c4010c2dfac0e89d885c/items', options)
      .then(response => response.json())
      .then(data => {
        const container = document.getElementById('item-container');
        container.innerHTML = ''; // Kosongkan isi awal

        if (!data || !data.items || data.items.length === 0) {
          container.innerHTML = '<p>Tidak ada data ditemukan.</p>';
          return;
        }

        data.items.forEach(item => {
          const f = item.fieldData;

          const div = document.createElement('div');
          div.className = 'produk';
          div.innerHTML = `
            <h3>${f.name || 'Tanpa Nama'}</h3>
            <p><strong>Warna:</strong> ${f["variant-warna"] || '-'}</p>
            <p><strong>Penyimpanan:</strong> ${f["penyimpanan-internal"] || '-'}</p>
            <p><strong>Harga:</strong> ${f["harga-2"] || '-'}</p>
            <p><strong>Kota:</strong> ${f.kota || '-'}</p>
            <p><strong>Pengirim:</strong> ${f.pengirim || '-'}</p>
            <p><strong>Deskripsi:</strong><br>${f.deskripsi?.replace(/\n/g, '<br>') || '-'}</p>
            <a href="${f.rintisan}" target="_blank">ðŸ”— Link Rintisan</a>
            <br><br>
            <img src="${f.image1?.url || f.img1}" alt="Gambar 1">
            <img src="${f.image2?.url || f.img2}" alt="Gambar 2">
            <img src="${f.image3?.url || f.img3}" alt="Gambar 3">
          `;
          container.appendChild(div);
        });
      })
      .catch(err => {
        document.getElementById('item-container').innerHTML = '<p>Gagal mengambil data.</p>';
        console.error(err);
      });
  </script>

</body>
</html>
